책에 나온 용어들을 정리했다. 번역서여서인지, 외국사람들의 사고 체계가 이런 것인지는 잘 모르겠지만, 뭔가 너무 여러번 읽어야 무슨말을 하는지 이해할 수 있는 문장들이 있어서 읽는데에 시간이 조금 걸린 편이었다.<br>

<br>

## 목차

<br>

## 참고자료

- [RabbitMQ in Depth, 에이콘, 개빈 로이 저/홍영택 역](http://www.yes24.com/Product/Goods/62489604)<br>

<br>

## AMQF 스펙

AMQP 스펙은 네트워크 프로토콜의 정의 뿐 아니라 서버측 서비스의 동작 방식도 정의한다. 이러한 동작은 AMQ 모델에 기반한 동작이다. 예를 들면 HTTP, SMTP 프로토콜과는 달리 정의 뿐만 아니라 서버 측 서비스의 동작방식 역시 정의한다.<br>

<br>

RabbitMQ에서는 AMQP 스펙을 확장해 특정 익스체인지를 다른 익스체인지에 연결할 수 있다. 이런 방식은 메시지를 라우팅하는 데에 상당한 유연성을 제공한다.<br>

<br>

## AMQ 모델

- AMQ 모델 = Advanced Model Queing 모델<br>

- 참고 : https://en.wikipedia.org/wiki/AMQ <br>

<br>

메시지 브로커는 흔히 메시지의 라우팅 동작을 정의한다.<br>

AMQ 모델에서는 메시지 브로커를 세 가지 추상적인 컴포넌트로 논리적(개념적)으로 정의하고 있다.<br>

익스체인지, 큐, 바인딩 이렇게 3가지의 컴포넌트로 개념을 정의한 모델을 AMQ라고 부른다.<br>

<br>

- 익스체인지<br>
  - 메시지 브로커 -> 큐<br>
  - 메시지 전달하는 컴포넌트<br>
- 큐<br>
  - 디스크, 메모리 상의 자료구조<br>
  - 메시지를 저장한다.<br>
- 바인딩<br>
  - 익스체인지 -> 큐<br>
  - 익스체인지 -> 큐 방향의 통신을 할때 메시지를 어떤 큐에 저장할 지 정의<br>

RabbitMQ 는 익스체인지에서 큐로 메시지를 라우팅하는 방식이 동적이다.<br>

<br>

## 메시지 브로커



## 라우팅

라우팅이란 익스체인지가 메시지에 적용하는 동작을 의미한다.<br>

대표적으로 아래의 동작을 수행한다.<br>

- 메시지를 보낼 때 함께 전달한 데이터 속성을 검사<br>
- 메시지에 포함된 속성을 이용해 처리하는 것<br>

메시지를 보낼 때 함께 전달한 데이터 속성을 검사하거나, 메시지에 포함된 속성을 이용해 처리하는 것을 의미<br>

<br>

**라우팅 키**<br>

애플리케이션에서 RabbitMQ의 익스체인지에 메시지를 발행할 때 라우팅 키 속성을 이용한다.<br>

라우팅 키는 큐의 이름인 경우도 있고, 의미적으로 메시지를 설명하는 문자열인 경우도 있다.<br>

단순하게 RabbitMQ를 운용할 경우 라우팅 키를 큐의 이름으로 지정하기도 한다.<br>

익스체인지마다 라우팅 키를 처리하는 방식이 조금 다르다. 익스체인지마다 라우팅 키를 평가하는 기준이 다른 몇가지 경우를 정리해보면 아래와 같다.<br>

- 단순히 라우팅 키의 이름이 동일한지 검사하는 익스체인지<br>
- 라우팅 키에서 좀 더 복잡한 패턴을 추출해 검사하는 익스체인지<br>
- 메시지 속성에 정의한 다른 속성을 우선적으로 평가(evaluate)해서 라우팅 키를 완전히 무시하는 익스체인지<br>

<br>

## 익스체인지 (Exchange)

AMQ의 3가지 컴포넌트 중 하나이다.<br>

RabbitMQ 에서 적절한 목적지로 메시지를 전달하기 위해 필요한 첫번째 입력값이다.<br>

클라이언트 측에서 RabbitMQ로 전송한 메시지를 익스체인지가 수신한다. 그리고 익스체인지는 메시지를 보낼 위치를 결정짓는다.<br>

즉, 메시지에 적용할 라우팅 동작을 정의한다.<br>

<br>

## 큐

수신한 메시지를 저장하는 역할 수행<br>

메시지에 대해 수행할 작업을 정의하는 설정 정보를 가지고 있는다.<br>

큐의 설정정보에는 아래의 정보들이 정의된다.<br>

- 메시지에 대해 수행할 작업을 정의한다.<br>
- 메시지를 메모리에 보관할지<br>
- 메시지를 소비자에게 전달 전, 디스크에 선입선출(FIFO) 순서로 보관할지 여부<br>

<br>

## 바인딩

큐 <-> 익스체인지 의 관계<br>

바인딩, 바인딩 키 : 익스체인지가 어떤 큐에 메시지를 전달해야 하는지를 의미<br>

바인딩 키 : 큐를 익스체인지에 연결하고, 라우팅 키를 평가하는 기준<br>

익스체인지는 여러 종류가 있는데, 특정 익스체인지는 익스체인지에 특정 큐에만 메시지를 전달하도록 지정할 수 있도록 필터링 하는 것이 가능하다.<br>

익스체인지는 메시지를 큐로 전달할 때 아래의 두가지를 대조해서 맞는지 확인한다. (평가한다.)<br>

- 메시지의 라우팅 키
- 익스체인지의 바인딩 키

<br>

> 참고)<br>
>
> - 애플리케이션에서 RabbitMQ의 익스체인지에 메시지를 발행할 때 라우팅 키 속성을 이용한다.<br>
> - 라우팅 키는 큐의 이름인 경우도 있고, 의미적으로 메시지를 설명하는 문자열인 경우도 있다.<br>
> - 단순하게 RabbitMQ를 운용할 경우 라우팅 키를 큐의 이름으로 지정하기도 한다.<br>

<br>

## 데이터 프레임



## 마샬링

