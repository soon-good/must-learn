# JIT 컴파일러와 JVM

오늘은 JIT 컴파일러와 JVM에 대해 정리해볼 예정이다. 꼭 필요한 개념인데 상상 속으로만 어느 정도 알고 있는 것 같다는 생각이 들어 죄책감에 정리를 시작했다. 공부를 해보면서 조금은 뚜렷하게 알게 된것 같아 뿌듯한 생각이 들었다. <br>책을 찾아보려고 했는데, 너무 책에 의존하기보다는 wiki를 적극 활용해서 요약해보는 것도 좋은 생각이지 않을까 싶어서 wiki 검색결과를 요약해봤다.<br>

<br>

## 목차

- [참고자료](#참고자료)<br>

<br>

## 참고자료

- [ko.wikipedia.org/wiki/JIT_컴파일](https://ko.wikipedia.org/wiki/JIT_컴파일)<br>

<br>

## 개인적인 의견

사실, `JIT 컴파일러`라는 용어보다는 `JIT 컴파일` 이라는 용어가 더 맞는 용어인 것 같다는 생각을 했다. `JIT 컴파일러` 라는 용어는 컴파일러의 한 종류를 지칭하기 위해 사용되는 용어인 것 같다. <br>

<br>

가상머신 종류의 언어들 중 JIT 방식의 컴파일을 사용하는 경우가 많은 것 같았다. 각 언어별로 지원하는 JIT 컴파일러의 성능은 어느정도는 차이가 있을 것 같다.<br>

<br>

## JVM 과 JIT 컴파일러

> 참고자료 : [ko.wikipedia.org/wiki/JIT_컴파일](https://ko.wikipedia.org/wiki/JIT_컴파일)<br>

<br>

**JVM - 바이트 코드를 JIT 컴파일러를 이용해 기계어로 변환하는 역할을 수행**<br>

Java Virtual Machine, .Net, V8 에서는 JIT 컴파일을 지원하고 있다. JIT 컴파일러는 Java, C# 같은 각 가상머신 기반 언어의 가상머신들이 바이트 코드를 기계어로 변환할 때 사용하는 컴파일러이다.<br>

Java, C# 과 같은 언어들의 컴파일러들은 `.class` , `.csharp` 과 같은 파일을 만들어 낼 때 바이트 코드를 만들어내는 편이다. <br>

JVM 은 바이트 코드를 기계어로 변환하는 역할을 수행한다. 이 때 JVM이 사용하는 것이 JIT 컴파일러 이다.<br>

<br>

**JIT 컴파일러**<br>

JIT 컴파일러는 바이트 코드를 읽어서 빠른 속도로 기계어를 생성할 수 있다. 이런 기계어 변환은 코드가 실행되는 과정에 실시간으로 일어난다. 이런 이유로 이름이 Just In Time 이다. <br>

JIT 컴파일러는 정적 컴파일러 만큼 빠르면서 인터프리터 언어의 빠른 응답속도를 가진다는 것이 장점이다. JIT 코드는 일반적인 인터프리터 언어에 비해 훨씬 좋은 성능을 낸다. 심지어 경우에 따라 정적 컴파일러 언어보다 좋은 성능을 낸다. 이것은 실행 과정에 컴파일을 할 수 있기 때문에 나타나는 장점이다.<br>

<br>

## 바이트 코드의 장점

위에서 살펴본 JIT 컴파일러는 JVM이 바이트 코드를 기계어로 변환할 때 사용하는 컴파일러이다. (참고로 소스코드를 바이트코드로 변환해주는 것은 Java 컴파일러이다.) <br>

- 최적화
  - 바이트코드 컴파일러는 시간이 많이 소요되는 최적화를 미리 해준다. 바이트 코드에서 기계어 번역은 훨씬 빠르게 진행될 수 있다. <br>
- 이식성<br>
  - 가상 머신이 설치되어 있으면 빠르게 바이트코드를 빠르게 실행할 수 있다.
  - 플랫폼 별로 가상머신을 개발하는 과정은 컴파일러를 만드는 과정보다 간단하다. 그 이유는 아래의 두가지이다<br>
    - 복잡한 최적화 과정을 바이트 코드 컴파일러가 대신 해주므로 고려할 필요가 없다.<br>
    - 바이트 코드는 빠른 기계어 변환을 목적으로 설계되었기 때문에 일반적인 컴파일러보다 제작 과정이 수월하다.<br>

<br>

바이트 코드 컴파일러가 시간이 많이 소요되는 최적화를 미리 해주기 때문에 바이트 코드에서 기계어 번역은 훨씬 빠르게 진행 될 수 있다.<br>

인터프리트 방식과 정적 컴파일 방식을 혼합한 방식으로 기계어를 만들어낸다.<br>

<br>

## 인터프리트 방식과 정적 컴파일 방식

`인터프리트 방식`<br>

- 일반적인 인터프리터는 바이트코드나 소스코드를 최적화 과정 없이 번역한다. 이런 이유로 성능이 좋지 않다.<br>

`정적 컴파일 방식`<br>

- 실행 전에 무조건 컴파일을 해서 기계어로 번역해놓는 방식이다. 
- 이런 이유로 다양한 플랫폼에 맞게 컴파일을 하려면 시간이 조금 오래 걸린다.









