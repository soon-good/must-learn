# 2021/09 백로그

- Spring AMQP
  - @SpringRabbitTest - [Testing Support](https://docs.spring.io/spring-amqp/reference/html/#testing)
  - [Customizing Messages](https://docs.spring.io/spring-amqp/reference/html/#customizing-the-messages)
  - [Resilience : Recovering from Erros and Broker Failures](https://docs.spring.io/spring-amqp/reference/html/#resilience-recovering-from-errors-and-broker-failures)
  - Spring Batch Reader 성능분석 및 측정
    - [https://cheese10yun.github.io/spring-batch-reader-performance/](https://cheese10yun.github.io/spring-batch-reader-performance/)
    - 현재 RabbitMQ 로 읽어들인 데이터를 JDBC Template 으로 Bulk Insert 처리 중인데, 최적화를 위해 읽어보고 정리해야 할 내용이다.
- Spring Properties 변경 감지하여 동적으로 로딩하기
  - 스프링 properties 변경 감지하여 동적으로 로딩하기 - [https://blog.kingbbode.com/17](https://blog.kingbbode.com/17)
  - Reloading Properties Files in Spring - [https://www.baeldung.com/spring-reloading-properties](https://www.baeldung.com/spring-reloading-properties)
  - 그저께 밤샘 테스트로 현재 프로젝트는 아주 조금의 가능성?을 엿볼수 있었다.고쳐야 할 점과 보완점들을 계속 찾아보고 있다. 현재 1달 정도의 여유기간이 있다. 이때 적용해야 하는 작업 중 하나가 application.properties 의 의 batch size, buffer size 등과 같은 특정 속성들을 특정 트래픽 시간 대 마다 동적으로 변경되도록 하는 작업이다.
  - 지금 당장 클라우드화 해서 Spring Cloud 화 하기에는. 시간과 공수가 너무 많이 들고, 위의 자료가 가장 딱 맞는 자료일 것이라고 생각했다.
- 카프카 S3 연동
  - [Kafka Connect 로 S3 에 데이터를 저장해보자](https://swalloow.github.io/kafka-connect/)
  - S3 Sink Connector
  - 밤샘작업을 자랑하기에는 쑥스럽지만, 이번주 목~금요일 스트레이트로 밤샘작업했다. 이때 누락되는 데이터가 있었다. 데이터 제공처에서 제공해주는 데이터의 가격 정책을 바꿨는데 특정 데이터를 누락해서 전달해주는 경우가 있었다. 이런 문제로 로깅을 해서 특정 시간에 데이터가 왔는지 등에 대한 증거자료가 필요하다는 생각했다. 이런 문제로 인해.. 이 기능을 개발해야 겠다고 계획했다.
  - 또 로그 데이터는 로컬에 쌓아둘 필요 없이 S3 에 쌓아두면 되기에 이 자료가 적합해보인다. 로그 읽어들이는건 어떻게 할까... 
  - 데이터 제공처 데이터를 원할 때마다 로그로 쌓아두는 기능. 이라고 정리해야 하는 것일까? 만들다보면 요구사항이 바뀌게 될까?
- 카프카, 래빗엠큐 개념 비교
  - https://armful-log.tistory.com/61

<br>

- JVM
  - 배포시 JVM 옵션 최적화가 필요하다. 현재 프로젝트는 Off Heap 설정은 잘 해두었지만, 그 외의 설정(G1GC, Heap 메모르 등등) 은 더 자료조사와 최적화 작업이 필요하다.
  - Java Garbage Collection
    - Java Garbage Collection - [https://d2.naver.com/helloworld/1329](https://d2.naver.com/helloworld/1329)
    - Java GC의 이해 - https://yeti.tistory.com/228
    - wiki.openjdk.java.net - [Open JDK 11 - Garbage Collection](https://wiki.openjdk.java.net/display/HotSpot/Garbage+Collection)
  - G1GC 적용과 JVM Upgrade
    - https://brunch.co.kr/@alden/45

<br>

---

읽어볼 개념들, 정리해야 하는 개념들<br>

- Hikari CP
  - [여기](https://github.com/gosgjung/must-learn/blob/develop/3%EB%B6%84-%EA%BF%80%ED%8C%81-%EB%AA%A8%EC%9D%8C/devops/HikariCP-%EC%A3%BC%EC%9A%94%EC%98%B5%EC%85%98%EB%93%A4.md) 에 정리 필요
  - Hikari CP의 각 옵션에 대한 번역 역시도 정리가 필요하다.

- Java 날짜 자료형들 총정리
  - [여기](https://github.com/gosgjung/must-learn/blob/develop/3%EB%B6%84-%EA%BF%80%ED%8C%81-%EB%AA%A8%EC%9D%8C/java/(In-Progress)-%EB%82%A0%EC%A7%9C-%EC%9E%90%EB%A3%8C%ED%98%95%EB%93%A4-%EC%B4%9D%EC%A0%95%EB%A6%AC.md)

- 멀티모듈 설계 이야기 with Spring, Gradle
  - https://blog.kingbbode.com/49?category=737337
  - 지금 당장 프로젝트에 적용하기엔 손이 너무 많이 가서 적용은 못하는데, 일단 읽어두고 정리할 필요가 있다. 
- 테스트를 작성하는 방법
  - [https://blog.kingbbode.com/52](https://blog.kingbbode.com/52)
  - 공식적으로 이력서에 적는 경력으로는 나는 아직 5년차다.(=잡스러운 경력들을 지웠다.) 그런데 실제로는 7년차이다. 첫회사가 폐업할 위기에 빠지면서(=실제로 1년뒤 폐업) 회사를 나오면서 이직했는데, 이때 직장을 구했던 2년이 굉장히 힘들었던 기간이었다.
  - 중간에 SI 회사를 잘못 들어간적도 있었고, 스타트업에 잘못 들어갔다가 커리어가 꼬인적도 있었고 여러모로 2년 동안 마음속으로 눈물흘리면서 직장 구했던 적이 많았다. 그래서 성공가도만 달렸던 사람들을 보면 정말...철이 없구나~ 하고 생각할 때가 있다.
  - 사설이 길었는데, 지금 까지 만 7년(?) 정도 Java 코드를 만졌다는 생각을 할때 나는 아직 뭔가 나만의 철학이 없다는 느낌을 받았다. 많이 공부를 하지만, 개인적인 의견을 짧고 굵게 정리해서 요약할 만한 그런 느낌이 부족하다는 느낌을 받았는데, 위의 자료를 보고서 그 생각이 더 확실해졌다. 

- 카프카의 개념
  - https://team-platform.tistory.com/11
  - 카프카와 큐잉시스템의 차이 - [https://brocess.tistory.com/39](https://brocess.tistory.com/39)
    - 카프카는 순서대로 데이터를 전달하는 ActiveMQ, RabbitMQ같은 종류의 큐잉은 아니다.
    - 토픽 기반... 정리 필요쓰
- Java 8 filter 구문과 조건문 여러개 나열 방식의 성능 관련 이슈
  - stack over flow - [Java 8 Stream: multiple filters vs complex condition](https://stackoverflow.com/questions/24054773/java-8-streams-multiple-filters-vs-complex-condition)
  - https://stackoverflow.com/questions/24054773/java-8-streams-multiple-filters-vs-complex-condition
  - 결론은 여러개의 filter 구문을 많은 양의 데이터에서 사용할 경우는 성능이 좋다. 여러개의 filter 구문을 10000개 이하의 데이터에서 사용하는 것은 그냥 if 문을 써도 된다. 하지만 이 경우 if 문에 사용할 조건 식에 && 로 지정할 때 가장 먼저 실패할 조건식을 잘 추측해서 넣는 경우를 걸었을 때가 전제조건이 되지 않을까 싶다.

<br>

---

시간이 남는다면 공부해볼 것들 & 읽어볼 것들

- Back to the Essense - Java Servers
  - https://homoefficio.github.io/2020/11/02/Back-to-the-Essence-Java-Servers-1/
  - https://homoefficio.github.io/2020/11/02/Back-to-the-Essence-Java-Servers-2/
- 무부심 프로그래밍 십계명
  - https://homoefficio.github.io/2020/12/05/%EB%AC%B4%EB%B6%80%EC%8B%AC-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%8B%AD%EA%B3%84%EB%AA%85/
- Java Concurrency Evolution
  - https://homoefficio.github.io/2020/12/11/Java-Concurrency-Evolution/
- JPA 필요한 것만 조회하자
  - [https://homoefficio.github.io/2020/07/23/JPA-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83%EB%A7%8C-%EC%A1%B0%ED%9A%8C%ED%95%98%EC%9E%90/](https://homoefficio.github.io/2020/07/23/JPA-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83%EB%A7%8C-%EC%A1%B0%ED%9A%8C%ED%95%98%EC%9E%90/)

